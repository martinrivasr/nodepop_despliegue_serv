<%- include('../partials/header'); %>
<div class="container">

  <h1>Update product</h1>
  <p>For userId: <%= session.userId %></p>

  <form enctype="multipart/form-data" method="POST">

    <div class="mb-3">
      <label for="nameInput" class="form-label">Name</label>
      <input type="text" required name="name" value="<%= product.name %>" class="form-control" id="nameInput">
    </div>

    <div class="mb-3">
      <label for="priceInput" class="form-label">Price</label>
      <input
        type="number" required
        min="0" value="<%= product.price %>" step=".01"
        name="price" class="form-control" id="priceInput">
    </div>

    <div class="mb-3">
      <label class="form-label" for="customFile">Image</label>
      <img src="/images/products/<%= product.image %>" width="100">
      <input type="file" name="image" class="form-control" id="customFile" />
    </div>

    <% for (const tag of tags) { %>
      <div class="form-check">
        <input class="form-check-input" type="checkbox" name="tags" value="<%= tag %>" id="check-<%= tag %>"
        <%= product.tags.includes(tag) ? 'checked': '' %>>
        <label class="form-check-label" for="check-<%= tag %>"><%= tag %></label>
      </div>
    <% } %>

    <button type="submit" class="btn btn-primary">Submit</button>
  </form>


</div>

<%- include('../partials/footer'); %>